🎼 SheetMusicScroller UI Demo - Real-time Pitch Detection Integration
=====================================================================

┌─────────────────────────────────────────────────────────────┐
│                    Sheet Music Scroller                    │
├─────────────────────────────────────────────────────────────┤
│ Title: Allemande                                            │
│ Composer: J.S. Bach - Partita No. 2 in D minor, BWV 1004  │
│ Tempo: 120 BPM • 4/4 • D minor                            │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│                      Mode Selection                         │
├─────────────────────────────────────────────────────────────┤
│ Mode: [Time-based] [Live Pitch*] 🎤 🟢 Listening             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│            Musical Staff with Real-time Pitch              │
├─────────────────────────────────────────────────────────────┤
│𝄞 ♭│─────────────────────────────────────────────────────────── │
│   │   ~●─────────────────────────────────────────────────── │
│   │  ~ ─────────────────────────────────────────────────────── │
│   │ ~  ─────────────────────────────────────────────────────── │
│   │    ─────────────────────────────────────────────────────── │
│   │                                                      │
│   │    🟢 Live pitch: A4 (440.0 Hz) detected             │
│   │    ~│ Trail follows detected pitch in real-time       │
│   │   ~ │                                                 │
│   │  ~  │                                                 │
│   └─────── Squiggle responds to microphone input         │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│                    Pitch Detection Controls                 │
├─────────────────────────────────────────────────────────────┤
│   🎤  Start/Stop Listening                    🔄  Reset      │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│                  Live Pitch Detection                       │
├─────────────────────────────────────────────────────────────┤
│ Frequency: 440.0 Hz    Note: A4       Amplitude: 0.65      │
│ 🟢 Microphone permission granted                            │
└─────────────────────────────────────────────────────────────┘

🎵 NEW FEATURES - Real-time Pitch Detection:
• AudioKit integration for live pitch tracking
• Dual mode: Time-based playback OR Live pitch detection
• Real-time squiggle movement based on detected frequency
• Visual feedback: Green=strong signal, Orange=weak, Red=none
• Cross-platform microphone permissions (iOS/macOS)
• Frequency to musical staff position mapping
• Structured for future chord detection extension

🎹 Audio Processing:
• Real-time frequency analysis using AudioKit
• MIDI note conversion and pitch name display
• Amplitude-based signal strength detection
• Smooth frequency filtering to reduce jitter
• Configurable detection thresholds

🔒 Privacy & Permissions:
• Microphone usage description in Info.plist
• Graceful permission handling
• Clear visual indicators for microphone status
• Audio processing stays local to device

💻 Technical Implementation:
• PitchDetector.swift - AudioKit-based pitch tracking service
• Modified SheetMusicScrollerView - Dual mode support
• Enhanced SquiggleView - Pitch-responsive positioning
• Swift Package Manager integration for AudioKit
• iOS 16.0+ / macOS 13.0+ compatibility

🚀 Future Extensions Ready:
• Chord detection framework in place
• Harmonic analysis structure prepared
• Multiple pitch tracking capabilities
• Musical analysis and feedback systems

✅ SETUP INSTRUCTIONS:
1. Open SheetMusicScroller.xcodeproj in Xcode
2. Add AudioKit & AudioKitEX via Swift Package Manager
3. Grant microphone permissions when prompted
4. Toggle to 'Live Pitch' mode and start listening!
5. See AUDIOKIT_SETUP.md for detailed integration steps
